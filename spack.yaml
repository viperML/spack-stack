spack:
  view: true
  concretizer:
    unify: true

  specs:
  - gcc-runtime
  - py-torch -mkldnn

  packages:
    all:
      require:
        - target=x86_64
        # - ~cuda
        - +cuda
        - cuda_arch=60

  mirrors:
    gh-buildcache:
      url: oci://ghcr.io/viperml/spack-stack
      signed: false
